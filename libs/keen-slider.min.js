! function (n, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (n = "undefined" != typeof globalThis ? globalThis : n || self).KeenSlider = t()
}(this, function () {
    "use strict";
    var n = function () {
        return (n = Object.assign || function (n) {
            for (var t, i = 1, e = arguments.length; i < e; i++)
                for (var r in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, r) && (n[r] = t[r]);
            return n
        }).apply(this, arguments)
    };

    function t(n, t, i) {
        if (i || 2 === arguments.length)
            for (var e, r = 0, o = t.length; r < o; r++) !e && r in t || (e || (e = Array.prototype.slice.call(t, 0, r)), e[r] = t[r]);
        return n.concat(e || Array.prototype.slice.call(t))
    }

    function i(n) {
        return Array.prototype.slice.call(n)
    }

    function e(n, t) {
        var i = Math.floor(n);
        return i === t || i + 1 === t ? n : t
    }

    function r() {
        return Date.now()
    }

    function o(n, t, i) {
        if (t = "data-keen-slider-" + t, null === i) return n.removeAttribute(t);
        n.setAttribute(t, i || "")
    }

    function a(n, t) {
        return t = t || document, "function" == typeof n && (n = n(t)), Array.isArray(n) ? n : "string" == typeof n ? i(t.querySelectorAll(n)) : n instanceof HTMLElement ? [n] : n instanceof NodeList ? i(n) : []
    }

    function u(n) {
        n.raw && (n = n.raw), n.cancelable && !n.defaultPrevented && n.preventDefault()
    }

    function s(n) {
        n.raw && (n = n.raw), n.stopPropagation && n.stopPropagation()
    }

    function c() {
        var n = [];
        return {
            add: function (t, i, e, r) {
                t.addListener ? t.addListener(e) : t.addEventListener(i, e, r), n.push([t, i, e, r])
            },
            input: function (n, t, i, e) {
                var r;
                this.add(n, t, (r = i, function (n) {
                    n.nativeEvent && (n = n.nativeEvent);
                    var t = n.changedTouches || [],
                        i = n.targetTouches || [],
                        e = n.detail && n.detail.x ? n.detail : null;
                    return r({
                        id: e ? e.identifier ? e.identifier : "i" : i[0] ? i[0] ? i[0].identifier : "e" : "d",
                        idChanged: e ? e.identifier ? e.identifier : "i" : t[0] ? t[0] ? t[0].identifier : "e" : "d",
                        raw: n,
                        x: e && e.x ? e.x : i[0] ? i[0].screenX : e ? e.x : n.pageX,
                        y: e && e.y ? e.y : i[0] ? i[0].screenY : e ? e.y : n.pageY
                    })
                }), e)
            },
            purge: function () {
                n.forEach(function (n) {
                    n[0].removeListener ? n[0].removeListener(n[2]) : n[0].removeEventListener(n[1], n[2], n[3])
                }), n = []
            }
        }
    }

    function d(n, t, i) {
        return Math.min(Math.max(n, t), i)
    }

    function l(n) {
        return (n > 0 ? 1 : 0) - (n < 0 ? 1 : 0) || +n
    }

    function f(n) {
        var t = n.getBoundingClientRect();
        return {
            height: e(t.height, n.offsetHeight),
            width: e(t.width, n.offsetWidth)
        }
    }

    function $(n, t, i, e) {
        var r = n && n[t];
        return null == r ? i : e && "function" == typeof r ? r() : r
    }

    function p(n) {
        return Math.round(1e6 * n) / 1e6
    }

    function v(n) {
        var t, i, e, r, o, a, u, s;

        function c(n) {
            return 2 * n
        }

        function f(n) {
            return d(n, u, s)
        }

        function $(n) {
            return 1 - Math.pow(1 - n, 3)
        }

        function p() {
            return e ? n.track.velocity() : 0
        }

        function v(n, t) {
            void 0 === t && (t = 1e3);
            var i = 147e-9 + (n = Math.abs(n)) / t;
            return {
                dist: Math.pow(n, 2) / i,
                dur: n / i
            }
        }

        function m() {
            var t = n.track.details;
            t && (o = t.min, a = t.max, u = t.minIdx, s = t.maxIdx)
        }

        function g() {
            n.animator.stop()
        }
        n.on("updated", m), n.on("optionsChanged", m), n.on("created", m), n.on("dragStarted", function () {
            e = !1, g(), t = i = n.track.details.abs
        }), n.on("dragChecked", function () {
            e = !0
        }), n.on("dragEnded", function () {
            var e, u, s, c, d, m, h = n.options.mode;
            "snap" === h && (e = n.track, s = (u = n.track.details).position, c = l(p()), (s > a || s < o) && (c = 0), d = t + c, 0 === u.slides[e.absToRel(d)].portion && (d -= c), t !== i && (d = i), l(e.idxToDist(d, !0)) !== c && (d += c), d = f(d), m = e.idxToDist(d, !0), n.animator.start([{
                distance: m,
                duration: 500,
                easing: function (n) {
                    return 1 + --n * n * n * n * n
                }
            }])), "free" !== h && "free-snap" !== h || function t() {
                g();
                var i = "free-snap" === n.options.mode,
                    e = n.track,
                    u = p();
                r = l(u);
                var s = n.track.details,
                    c = [];
                if (u || !i) {
                    var d, m = v(u),
                        h = m.dist,
                        _ = m.dur;
                    if (_ = 2 * (d = _), h *= r, i) {
                        var b = e.idxToDist(e.distToIdx(h), !0);
                        b && (h = b)
                    }
                    c.push({
                        distance: h,
                        duration: _,
                        easing: $
                    });
                    var x = s.position,
                        k = x + h;
                    if (k < o || k > a) {
                        var y = k < o ? o - x : a - x,
                            w = 0,
                            T = u;
                        if (l(y) === r) {
                            var C, E = Math.min(Math.abs(y) / Math.abs(h), 1),
                                z = (1 - Math.pow(1 - (C = E), 1 / 3)) * _;
                            c[0].earlyExit = z, T = u * (1 - E)
                        } else c[0].earlyExit = 0, w += y;
                        var I, D = v(T, 100),
                            L = D.dist * r;
                        n.options.rubberband && (c.push({
                            distance: L,
                            duration: 2 * (I = D.dur),
                            easing: $
                        }), c.push({
                            distance: -L + w,
                            duration: 500,
                            easing: $
                        }))
                    }
                    n.animator.start(c)
                } else n.moveToIdx(f(s.abs), !0, {
                    duration: 500,
                    easing: function (n) {
                        return 1 + --n * n * n * n * n
                    }
                })
            }()
        }), n.on("dragged", function () {
            i = n.track.details.abs
        })
    }

    function m(n) {
        var t, i, e, r, o, f, $, p, v, m, g, h, _, b, x, k, y, w, T = c();

        function C(t) {
            if (f && p === t.id) {
                var a = D(t);
                if (v) {
                    if (!I(t)) return z(t);
                    m = a, v = !1, n.emit("dragChecked")
                }
                if (k) return m = a;
                u(t);
                var c = function (t) {
                    if (y === -1 / 0 && w === 1 / 0) return t;
                    var e = n.track.details,
                        a = e.length,
                        u = e.position,
                        s = d(t, y - u, w - u);
                    if (0 === a) return 0;
                    if (!n.options.rubberband) return s;
                    if (u <= w && u >= y || u < y && i > 0 || u > w && i < 0) return t;
                    var c, l = Math.max(0, 1 - Math.abs((u < y ? u - y : u - w) / a * (r * a)) / o * 2);
                    return l * l * t
                }($(m - a) / r * e);
                i = l(c);
                var _ = n.track.details.position;
                (_ > y && _ < w || _ === y && i > 0 || _ === w && i < 0) && s(t), g += c, !h && Math.abs(g * r) > 5 && (h = !0), n.track.add(c), m = a, n.emit("dragged")
            }
        }

        function E(t) {
            !f && n.track.details && n.track.details.length && (g = 0, f = !0, h = !1, v = !0, p = t.id, I(t), m = D(t), n.emit("dragStarted"))
        }

        function z(t) {
            f && p === t.idChanged && (f = !1, n.emit("dragEnded"))
        }

        function I(n) {
            var t = L(),
                i = t ? n.y : n.x,
                e = t ? n.x : n.y,
                r = void 0 !== _ && void 0 !== b && Math.abs(b - e) <= Math.abs(_ - i);
            return _ = i, b = e, r
        }

        function D(n) {
            return L() ? n.y : n.x
        }

        function L() {
            return n.options.vertical
        }

        function S() {
            r = n.size, o = L() ? window.innerHeight : window.innerWidth;
            var t = n.track.details;
            t && (y = t.min, w = t.max)
        }

        function A(n) {
            h && (s(n), u(n))
        }

        function O() {
            if (T.purge(), n.options.drag && !n.options.disabled) {
                $ = "function" == typeof (r = n.options.dragSpeed || 1) ? r : function (n) {
                    return n * r
                }, e = n.options.rtl ? -1 : 1, S(), t = n.container, i = "data-keen-slider-clickable", a("[".concat(i, "]:not([").concat(i, "=false])"), t).map(function (n) {
                    T.add(n, "dragstart", s), T.add(n, "mousedown", s), T.add(n, "touchstart", s)
                }), T.add(t, "dragstart", function (n) {
                    u(n)
                }), T.add(t, "click", A, {
                    capture: !0
                }), T.input(t, "ksDragStart", E), T.input(t, "ksDrag", C), T.input(t, "ksDragEnd", z), T.input(t, "mousedown", E), T.input(t, "mousemove", C), T.input(t, "mouseleave", z), T.input(t, "mouseup", z), T.input(t, "touchstart", E, {
                    passive: !0
                }), T.input(t, "touchmove", C, {
                    passive: !1
                }), T.input(t, "touchend", z), T.input(t, "touchcancel", z), T.add(window, "wheel", function (n) {
                    f && u(n)
                });
                var i, r, o = "data-keen-slider-scrollable";
                a("[".concat(o, "]:not([").concat(o, "=false])"), n.container).map(function (n) {
                    var t, i;
                    return t = n, void(T.input(t, "touchstart", function (n) {
                        i = D(n), k = !0, x = !0
                    }, {
                        passive: !0
                    }), T.input(t, "touchmove", function (n) {
                        var e = L(),
                            r = e ? t.scrollHeight - t.clientHeight : t.scrollWidth - t.clientWidth,
                            o = i - D(n),
                            a = e ? t.scrollTop : t.scrollLeft,
                            s = e && "scroll" === t.style.overflowY || !e && "scroll" === t.style.overflowX;
                        if (i = D(n), (o < 0 && a > 0 || o > 0 && a < r) && x && s) return k = !0;
                        x = !1, u(n), k = !1
                    }), T.input(t, "touchend", function () {
                        k = !1
                    }))
                })
            }
        }
        n.on("updated", S), n.on("optionsChanged", O), n.on("created", O), n.on("destroyed", T.purge)
    }

    function g(n) {
        var t, i, e = null;

        function r(t, i, e) {
            n.animator.active ? a(t, i, e) : requestAnimationFrame(function () {
                return a(t, i, e)
            })
        }

        function o() {
            r(!1, !1, i)
        }

        function a(i, r, o) {
            var a = 0,
                u = n.size,
                d = n.track.details;
            if (d && t) {
                var l = d.slides;
                t.forEach(function (n, t) {
                    if (i) !e && r && s(n, null, o), c(n, null, o);
                    else {
                        if (!l[t]) return;
                        var d = l[t].size * u;
                        !e && r && s(n, d, o), c(n, l[t].distance * u - a, o), a += d
                    }
                })
            }
        }

        function u(t) {
            return "performance" === n.options.renderMode ? Math.round(t) : t
        }

        function s(n, t, i) {
            var e = i ? "height" : "width";
            n.classList.contains("keen-slider__slide-v-thumb") || (null !== t && (t = u(t) + "px"), n.style["min-" + e] = t, n.style["max-" + e] = t)
        }

        function c(n, t, i) {
            if (null !== t) {
                if (t = u(t), n.classList.contains("keen-slider__slide-v-thumb")) {
                    var e = (i ? t : 0) / 1.563;
                    t = "translate3d(".concat(i ? 0 : t, "px, ").concat(e, "px, 0)")
                } else {
                    var e = i ? t : 0;
                    t = "translate3d(".concat(i ? 0 : t, "px, ").concat(e, "px, 0)")
                }
            }
            n.style.transform = t, n.style["-webkit-transform"] = t
        }

        function d() {
            t && (a(!0, !0, i), t = null), n.on("detailsChanged", o, !0)
        }

        function l() {
            r(!1, !0, i)
        }

        function f() {
            d(), i = n.options.vertical, n.options.disabled || "custom" === n.options.renderMode || (e = "auto" === $(n.options.slides, "perView", null), n.on("detailsChanged", o), (t = n.slides).length && l())
        }
        n.on("created", f), n.on("optionsChanged", f), n.on("beforeOptionsChanged", function () {
            d()
        }), n.on("updated", l), n.on("destroyed", d)
    }
    return function (i, e, u) {
        try {
            var s, h, _, b, x, k;
            return _ = e, b = t([(s = i, h = {
                    drag: !0,
                    mode: "snap",
                    renderMode: "precision",
                    rubberband: !0,
                    selector: ".keen-slider__slide"
                }, function (t) {
                    var i, e, r, u, d, l, p = c();

                    function v(n) {
                        var i;
                        o(t.container, "reverse", "rtl" !== (i = t.container, window.getComputedStyle(i, null).getPropertyValue("direction")) || n ? null : ""), o(t.container, "v", t.options.vertical && !n ? "" : null), o(t.container, "disabled", t.options.disabled && !n ? "" : null)
                    }

                    function m() {
                        g() && y()
                    }

                    function g() {
                        var e = null;
                        if (u.forEach(function (n) {
                                n.matches && (e = n.__media)
                            }), e === i) return !1;
                        i || t.emit("beforeOptionsChanged"), i = e;
                        var o = e ? r.breakpoints[e] : r;
                        return t.options = n(n({}, r), o), v(), z(), I(), T(), !0
                    }

                    function _(n) {
                        var i = f(n);
                        return (t.options.vertical ? i.height : i.width) / t.size || 1
                    }

                    function b() {
                        return t.options.trackConfig.length
                    }

                    function x(o) {
                        for (var a in i = !1, r = n(n({}, h), o), p.purge(), e = t.size, u = [], r.breakpoints || []) {
                            var s = window.matchMedia(a);
                            s.__media = a, u.push(s), p.add(s, "change", m)
                        }
                        p.add(window, "orientationchange", E), p.add(window, "resize", C), g()
                    }

                    function k(n) {
                        t.animator.stop();
                        var i = t.track.details;
                        t.track.init(null != n ? n : i ? i.abs : 0)
                    }

                    function y(n) {
                        k(n), t.emit("optionsChanged")
                    }

                    function w(n, i) {
                        if (n) return x(n), void y(i);
                        z(), I();
                        var e = b();
                        T(), b() !== e ? y(i) : k(i), t.emit("updated")
                    }

                    function T() {
                        var n = t.options.slides;
                        if ("function" == typeof n) return t.options.trackConfig = n(t.size, t.slides);
                        for (var i = t.slides, e = i.length, r = "number" == typeof n ? n : $(n, "number", e, !0), o = [], a = $(n, "perView", 1, !0), u = $(n, "spacing", 0, !0) / t.size || 0, s = "auto" === a ? u : u / a, c = $(n, "origin", "auto"), d = 0, l = 0; l < r; l++) {
                            var f = "auto" === a ? _(i[l]) : 1 / a - u + s,
                                p = "center" === c ? .5 - f / 2 : "auto" === c ? 0 : c;
                            o.push({
                                origin: p,
                                size: f,
                                spacing: u
                            }), d += f
                        }
                        if (d += u * (r - 1), "auto" === c && !t.options.loop && 1 !== a) {
                            var v = 0;
                            o.map(function (n) {
                                var t = d - v;
                                return v += n.size + u, t >= 1 || (n.origin = 1 - t - (d > 1 ? 0 : 1 - d)), n
                            })
                        }
                        t.options.trackConfig = o
                    }

                    function C() {
                        z();
                        var n = t.size;
                        t.options.disabled || n === e || (e = n, w())
                    }

                    function E() {
                        C(), setTimeout(C, 500), setTimeout(C, 2e3)
                    }

                    function z() {
                        var n = f(t.container);
                        t.size = (t.options.vertical ? n.height : n.width) || 1
                    }

                    function I() {
                        t.slides = a(t.options.selector, t.container)
                    }
                    t.container = (l = a(s, d || document)).length ? l[0] : null, t.destroy = function () {
                        p.purge(), t.emit("destroyed"), v(!0)
                    }, t.prev = function () {
                        t.moveToIdx(t.track.details.abs - 1, !0)
                    }, t.next = function () {
                        t.moveToIdx(t.track.details.abs + 1, !0)
                    }, t.update = w, x(t.options)
                }), g, m, v], u || [], !0), k = {}, x = {
                    emit: function (n) {
                        k[n] && k[n].forEach(function (n) {
                            n(x)
                        });
                        var t = x.options && x.options[n];
                        t && t(x)
                    },
                    moveToIdx: function (n, t, i) {
                        var e = x.track.idxToDist(n, t);
                        if (e) {
                            var r = x.options.defaultAnimation;
                            x.animator.start([{
                                distance: e,
                                duration: $(i || r, "duration", 500),
                                easing: $(i || r, "easing", function (n) {
                                    return 1 + --n * n * n * n * n
                                })
                            }])
                        }
                    },
                    on: function (n, t, i) {
                        void 0 === i && (i = !1), k[n] || (k[n] = []);
                        var e = k[n].indexOf(t);
                        e > -1 ? i && delete k[n][e] : i || k[n].push(t)
                    },
                    options: _
                },
                function () {
                    if (x.track = function n(i) {
                            var e, o, a, u, s, c, f, v, m, g, h, _, b, x, k = 1 / 0,
                                y = [],
                                w = null,
                                T = 0;

                            function C(n) {
                                P(T + n)
                            }

                            function E(n) {
                                var t = z(T + n).abs;
                                return L(t) ? t : null
                            }

                            function z(n) {
                                var i = Math.floor(Math.abs(p(n / o))),
                                    e = p((n % o + o) % o);
                                e === o && (e = 0);
                                var r = l(n),
                                    a = f.indexOf(t([], f, !0).reduce(function (n, t) {
                                        return Math.abs(t - e) < Math.abs(n - e) ? t : n
                                    })),
                                    u = a;
                                return r < 0 && i++, a === c && (u = 0, i += r > 0 ? 1 : -1), {
                                    abs: u + i * c * r,
                                    origin: a,
                                    rel: u
                                }
                            }

                            function I(n, t, i) {
                                if (t || !A()) return D(n, i);
                                if (!L(n)) return null;
                                var e, r = z(null != i ? i : T),
                                    o = r.abs,
                                    a = n - r.rel,
                                    u = o + a;
                                e = D(u);
                                var s = D(u - c * l(a));
                                return (null !== s && Math.abs(s) < Math.abs(e) || null === e) && (e = s), p(e)
                            }

                            function D(n, t) {
                                if (null == t && (t = p(T)), !L(n) || null === n) return null;
                                n = Math.round(n);
                                var i = z(t),
                                    e = i.abs,
                                    r = i.rel,
                                    a = i.origin,
                                    u = O(n),
                                    s = (t % o + o) % o,
                                    d = f[a],
                                    l = Math.floor((n - (e - r)) / c) * o;
                                return p(d - s - d + f[u] + l + (a === c ? o : 0))
                            }

                            function L(n) {
                                return S(n) === n
                            }

                            function S(n) {
                                return d(n, m, g)
                            }

                            function A() {
                                return u.loop
                            }

                            function O(n) {
                                return (n % c + c) % c
                            }

                            function P(n) {
                                t = n - T, y.push({
                                    distance: t,
                                    timestamp: r()
                                }), y.length > 6 && (y = y.slice(-6)), T = p(n);
                                var t, e = H().abs;
                                if (e !== w) {
                                    var o = null !== w;
                                    w = e, o && i.emit("slideChanged")
                                }
                            }

                            function H(n) {
                                var t = n ? null : function () {
                                    if (c) {
                                        var n = A(),
                                            t = n ? (T % o + o) % o : T,
                                            i = (n ? T % o : T) - s[0][2],
                                            e = 0 - (i < 0 && n ? o - Math.abs(i) : i),
                                            r = 0,
                                            d = z(T),
                                            f = d.abs,
                                            $ = d.rel,
                                            p = s[$][2],
                                            v = s.map(function (t, i) {
                                                var a = e + r;
                                                (a < 0 - t[0] || a > 1) && (a += (Math.abs(a) > o - 1 && n ? o : 0) * l(-a));
                                                var s = i - $,
                                                    d = l(s),
                                                    v = s + f;
                                                n && (-1 === d && a > p && (v += c), 1 === d && a < p && (v -= c), null !== h && v < h && (a += o), null !== _ && v > _ && (a -= o));
                                                var m = a + t[0] + t[1],
                                                    g = Math.max(a >= 0 && m <= 1 ? 1 : m < 0 || a > 1 ? 0 : a < 0 ? Math.min(1, (t[0] + a) / t[0]) : (1 - a) / t[0], 0);
                                                return r += t[0] + t[1], {
                                                    abs: v,
                                                    distance: u.rtl ? -1 * a + 1 - t[0] : a,
                                                    portion: g,
                                                    size: t[0]
                                                }
                                            });
                                        return f = S(f), $ = O(f), {
                                            abs: S(f),
                                            length: a,
                                            max: x,
                                            maxIdx: g,
                                            min: b,
                                            minIdx: m,
                                            position: T,
                                            progress: n ? t / o : T / a,
                                            rel: $,
                                            slides: v,
                                            slidesLength: o
                                        }
                                    }
                                }();
                                return e.details = t, i.emit("detailsChanged"), t
                            }
                            return e = {
                                absToRel: O,
                                add: C,
                                details: null,
                                distToIdx: E,
                                idxToDist: I,
                                init: function (n) {
                                    var t, e, r, d, l;
                                    if (function () {
                                            if (c = (s = ((u = i.options).trackConfig || []).map(function (n) {
                                                    return [$(n, "size", 1), $(n, "spacing", 0), $(n, "origin", 0)]
                                                })).length) {
                                                o = p(s.reduce(function (n, t) {
                                                    return n + t[0] + t[1]
                                                }, 0));
                                                var n, t = c - 1;
                                                a = p(o + s[0][2] - s[t][0] - s[t][2] - s[t][1]), f = s.reduce(function (t, i) {
                                                    if (!t) return [0];
                                                    var e = s[t.length - 1],
                                                        r = t[t.length - 1] + (e[0] + e[2]) + e[1];
                                                    return r -= i[2], t[t.length - 1] > r && (r = t[t.length - 1]), r = p(r), t.push(r), (!n || n < r) && (v = t.length - 1), n = r, t
                                                }, null), 0 === a && (v = 0), f.push(p(o))
                                            }
                                        }(), !c) return H(!0);
                                    e = i.options.range, h = m = (r = i.options.loop) ? $(r, "min", -1 / 0) : 0, _ = g = r ? $(r, "max", k) : v, d = $(e, "min", null), l = $(e, "max", null), d && (m = d), l && (g = l), b = m === -1 / 0 ? m : i.track.idxToDist(m || 0, !0, 0), x = g === k ? g : I(g, !0, 0), null === l && (_ = g), $(e, "align", !1) && g !== k && 0 === s[O(g)][2] && (x -= 1 - s[O(g)][0], g = E(x - T)), b = p(b), x = p(x), Number(t = n) === t ? C(D(S(n))) : H()
                                },
                                to: P,
                                velocity: function () {
                                    var n = r(),
                                        t = y.reduce(function (t, i) {
                                            var e = i.distance,
                                                r = i.timestamp;
                                            return n - r > 200 || (l(e) !== l(t.distance) && t.distance && (t = {
                                                distance: 0,
                                                lastTimestamp: 0,
                                                time: 0
                                            }), t.time && (t.distance += e), t.lastTimestamp && (t.time += r - t.lastTimestamp), t.lastTimestamp = r), t
                                        }, {
                                            distance: 0,
                                            lastTimestamp: 0,
                                            time: 0
                                        });
                                    return t.distance / t.time || 0
                                }
                            }
                        }(x), x.animator = function n(t) {
                            var i, e, r, o, a, u;

                            function s(n) {
                                i.active = n
                            }

                            function c(n) {
                                i.targetIdx = n
                            }

                            function d() {
                                var n;
                                n = a, window.cancelAnimationFrame(n), s(!1), c(null), u && t.emit("animationStopped"), u = null
                            }
                            return i = {
                                active: !1,
                                start: function (n) {
                                    if (d(), t.track.details) {
                                        var i = 0,
                                            l = t.track.details.position;
                                        e = 0, r = 0, o = n.map(function (n) {
                                                var t, e = Number(l),
                                                    o = null !== (t = n.earlyExit) && void 0 !== t ? t : n.duration,
                                                    a = n.easing,
                                                    u = n.distance * a(o / n.duration) || 0;
                                                l += u;
                                                var s = r;
                                                return r += o, i += u, [e, n.distance, s, r, n.duration, a]
                                            }), c(t.track.distToIdx(i)),
                                            function n() {
                                                var i;
                                                i = function i(a) {
                                                    u || (u = a), s(!0);
                                                    var d = a - u;
                                                    d > r && (d = r);
                                                    var l = o[e];
                                                    if (l[3] < d) return e++, i(a);
                                                    var f = l[2],
                                                        $ = l[4],
                                                        p = l[0],
                                                        v = l[1] * (0, l[5])(0 === $ ? 1 : (d - f) / $);
                                                    if (v && t.track.to(p + v), d < r) return n();
                                                    u = null, s(!1), c(null), t.emit("animationEnded")
                                                }, a = window.requestAnimationFrame(i)
                                            }(), t.emit("animationStarted")
                                    }
                                },
                                stop: d,
                                targetIdx: null
                            }
                        }(x), b)
                        for (var n = 0, i = b; n < i.length; n++)(0, i[n])(x);
                    x.track.init(x.options.initial || 0), x.emit("created")
                }(), x
        } catch (y) {
            console.error(y)
        }
    }
});
